---
# tasks file for httpd
  - name: install web components
    yum:
      name: "{{ packages }}"
      state: present
      update_cache: yes
      skip_broken: yes
    vars:
      packages:
        - httpd
        - mod_wsgi
        
  - name: ensure mod_wsgi enabled
    apache2_module: state=present name=wsgi
    notify: restart httpd
    
  - name: de-activate default httpd site
    file: path=/etc/httpd/conf.d/welcome.conf state=absent
    notify: restart httpd
    
  - name: ensure httpd started
    service: name=httpd state=started enabled=yes